@import "tailwindcss";
@import "tw-animate-css";

/* Alias SummitUI accordion variable to Radix format for tw-animate-css compatibility */
[data-summit-accordion-content] {
  --radix-accordion-content-height: var(--summit-accordion-content-height);
}

@source "../../SummitUI.Docs.Client/**/*.{cs,razor}";
@source "../../../SummitUI.Docs.Design/**/*.{cs,razor}";
@source "../Components/**/*.razor";

/* ============================================
   SummitUI Design System Theme
   Zinc (Black/White) theme with system dark mode
   High contrast, shadcn-inspired color scheme
   ============================================ */

@theme {
  /* Design system colors */
  --color-su-primary: rgb(var(--su-primary));
  --color-su-primary-foreground: rgb(var(--su-primary-foreground));
  --color-su-background: rgb(var(--su-background));
  --color-su-foreground: rgb(var(--su-foreground));
  --color-su-muted: rgb(var(--su-muted));
  --color-su-muted-foreground: rgb(var(--su-muted-foreground));
  --color-su-border: rgb(var(--su-border));
  --color-su-card: rgb(var(--su-card));
  --color-su-card-foreground: rgb(var(--su-card-foreground));
  --color-su-accent: rgb(var(--su-accent));
  --color-su-accent-foreground: rgb(var(--su-accent-foreground));
  --color-su-destructive: rgb(var(--su-destructive));
  --color-su-destructive-foreground: rgb(var(--su-destructive-foreground));
  --color-su-ring: rgb(var(--su-ring));

  /* Legacy colors (for existing docs) */
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/* ============================================
   Light Mode (Default)
   ============================================ */
:root {
  /* New design system tokens (RGB values for opacity support) - Zinc Theme */
  --su-background: 255 255 255;         /* white */
  --su-foreground: 9 9 11;              /* zinc-950 */
  --su-primary: 24 24 27;               /* zinc-900 */
  --su-primary-foreground: 250 250 250; /* zinc-50 */
  --su-muted: 244 244 245;              /* zinc-100 */
  --su-muted-foreground: 113 113 122;   /* zinc-500 */
  --su-border: 228 228 231;             /* zinc-200 */
  --su-card: 255 255 255;               /* white */
  --su-card-foreground: 9 9 11;         /* zinc-950 */
  --su-accent: 244 244 245;             /* zinc-100 */
  --su-accent-foreground: 24 24 27;     /* zinc-900 */
  --su-destructive: 185 28 28;          /* red-700 - WCAG AA with white text */
  --su-destructive-foreground: 255 255 255; /* white */
  --su-ring: 24 24 27;                  /* zinc-900 */

  /* Syntax highlighting colors (WCAG AA contrast on white) */
  --hljs-base: 63 63 70;               /* zinc-700 - base code text */
  --hljs-comment: 113 113 122;         /* zinc-500 - comments */
  --hljs-keyword: 24 24 27;            /* zinc-900 - keywords */
  --hljs-string: 22 101 34;            /* green-800 - strings */
  --hljs-number: 180 83 9;             /* amber-700 - numbers/literals */
  --hljs-variable: 185 28 28;          /* red-700 - variables/tags */
  --hljs-title: 88 28 135;             /* purple-900 - functions/titles */
  --hljs-type: 15 118 110;             /* teal-700 - types/built-ins */
  --hljs-attribute: 17 94 89;          /* teal-800 - attributes */

  /* Legacy HSL tokens (shadcn zinc) */
  --background: 0 0% 100%;
  --foreground: 240 10% 3.9%;
  --card: 0 0% 100%;
  --card-foreground: 240 10% 3.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 240 10% 3.9%;
  --primary: 240 5.9% 10%;
  --primary-foreground: 0 0% 98%;
  --secondary: 240 4.8% 95.9%;
  --secondary-foreground: 240 5.9% 10%;
  --muted: 240 4.8% 95.9%;
  --muted-foreground: 240 3.8% 46.1%;
  --accent: 240 4.8% 95.9%;
  --accent-foreground: 240 5.9% 10%;
  --destructive: 0 72.2% 41.8%;           /* red-700 */
  --destructive-foreground: 0 0% 100%;
  --border: 240 5.9% 90%;
  --input: 240 5.9% 90%;
  --ring: 240 5.9% 10%;
  --radius: 0.5rem;
}

/* ============================================
   Dark Mode (Hybrid: class-based + system preference fallback)
   - .dark class: force dark mode
   - .light class: force light mode  
   - No class: follow system preference
   ============================================ */

/* Explicit dark mode via .dark class on :root */
:root.dark {
  /* New design system tokens - Zinc Dark */
  --su-background: 9 9 11;              /* zinc-950 */
  --su-foreground: 250 250 250;         /* zinc-50 */
  --su-primary: 250 250 250;            /* zinc-50 */
  --su-primary-foreground: 24 24 27;    /* zinc-900 */
  --su-muted: 39 39 42;                 /* zinc-800 */
  --su-muted-foreground: 161 161 170;   /* zinc-400 */
  --su-border: 39 39 42;                /* zinc-800 */
  --su-card: 9 9 11;                    /* zinc-950 */
  --su-card-foreground: 250 250 250;    /* zinc-50 */
  --su-accent: 39 39 42;                /* zinc-800 */
  --su-accent-foreground: 250 250 250;  /* zinc-50 */
  --su-destructive: 127 29 29;          /* red-900 */
  --su-destructive-foreground: 250 250 250; /* zinc-50 */
  --su-ring: 212 212 216;               /* zinc-300 */

  /* Syntax highlighting colors (WCAG AA contrast on zinc-950) */
  --hljs-base: 228 228 231;             /* zinc-200 - base code text */
  --hljs-comment: 161 161 170;          /* zinc-400 - comments */
  --hljs-keyword: 250 250 250;          /* zinc-50 - keywords */
  --hljs-string: 74 222 128;            /* green-400 - strings */
  --hljs-number: 251 191 36;            /* amber-400 - numbers/literals */
  --hljs-variable: 248 113 113;         /* red-400 - variables/tags */
  --hljs-title: 232 121 249;            /* fuchsia-400 - functions/titles */
  --hljs-type: 45 212 191;              /* teal-400 - types/built-ins */
  --hljs-attribute: 94 234 212;         /* teal-300 - attributes */

  /* Legacy HSL tokens (shadcn zinc dark) */
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
  --popover: 240 10% 3.9%;
  --popover-foreground: 0 0% 98%;
  --primary: 0 0% 98%;
  --primary-foreground: 240 5.9% 10%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --accent: 240 3.7% 15.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --ring: 240 4.9% 83.9%;
}

/* System preference dark mode (only when no explicit .light or .dark class is set) */
@media (prefers-color-scheme: dark) {
  :root:not(.light):not(.dark) {
    /* New design system tokens - Zinc Dark */
    --su-background: 9 9 11;              /* zinc-950 */
    --su-foreground: 250 250 250;         /* zinc-50 */
    --su-primary: 250 250 250;            /* zinc-50 */
    --su-primary-foreground: 24 24 27;    /* zinc-900 */
    --su-muted: 39 39 42;                 /* zinc-800 */
    --su-muted-foreground: 161 161 170;   /* zinc-400 */
    --su-border: 39 39 42;                /* zinc-800 */
    --su-card: 9 9 11;                    /* zinc-950 */
    --su-card-foreground: 250 250 250;    /* zinc-50 */
    --su-accent: 39 39 42;                /* zinc-800 */
    --su-accent-foreground: 250 250 250;  /* zinc-50 */
    --su-destructive: 127 29 29;          /* red-900 */
    --su-destructive-foreground: 250 250 250; /* zinc-50 */
    --su-ring: 212 212 216;               /* zinc-300 */

    /* Syntax highlighting colors (WCAG AA contrast on zinc-950) */
    --hljs-base: 228 228 231;             /* zinc-200 - base code text */
    --hljs-comment: 161 161 170;          /* zinc-400 - comments */
    --hljs-keyword: 250 250 250;          /* zinc-50 - keywords */
    --hljs-string: 74 222 128;            /* green-400 - strings */
    --hljs-number: 251 191 36;            /* amber-400 - numbers/literals */
    --hljs-variable: 248 113 113;         /* red-400 - variables/tags */
    --hljs-title: 232 121 249;            /* fuchsia-400 - functions/titles */
    --hljs-type: 45 212 191;              /* teal-400 - types/built-ins */
    --hljs-attribute: 94 234 212;         /* teal-300 - attributes */

    /* Legacy HSL tokens (shadcn zinc dark) */
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
  }
}

/* ============================================
   Base Styles
   ============================================ */
@layer base {
  * {
    @apply border-su-border;
  }
  html, body {
    @apply bg-su-background text-su-foreground antialiased;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    font-feature-settings: "rlig" 1, "calt" 1;
    overflow-x: clip;
    max-width: 100vw;
  }
}

/* ============================================
   Component Utilities
   ============================================ */

/* Nav Link Styles */
.nav-link {
  @apply px-3 py-2 rounded-md text-su-muted-foreground transition-colors hover:text-su-foreground hover:bg-su-accent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-su-ring;
}

/* Blazor Error UI */
#blazor-error-ui {
  @apply bg-su-destructive text-su-destructive-foreground fixed bottom-0 left-0 w-full z-[1000] p-3 hidden shadow-lg;
}
#blazor-error-ui .dismiss {
  @apply cursor-pointer absolute right-3 top-2;
}

/* Sidebar Scroll Area */
.sidebar-scroll-area {
  @apply h-[calc(100vh-3.5rem)] overflow-y-auto py-6 px-4;
}

/* Custom scrollbar for sidebar */
.sidebar-scroll-area::-webkit-scrollbar {
  width: 6px;
}

.sidebar-scroll-area::-webkit-scrollbar-track {
  background: transparent;
}

.sidebar-scroll-area::-webkit-scrollbar-thumb {
  background-color: rgb(var(--su-border));
  border-radius: 3px;
}

.sidebar-scroll-area::-webkit-scrollbar-thumb:hover {
  background-color: rgb(var(--su-muted-foreground) / 0.5);
}

/* Code blocks */
pre {
  @apply font-mono;
}

code {
  @apply font-mono;
}

/* Inline code */
:not(pre) > code {
  @apply bg-su-muted px-1.5 py-0.5 rounded text-sm text-su-foreground;
}

/* Code block container */
.code-block {
  @apply rounded-lg border border-su-border overflow-hidden;
}

.code-block pre {
  @apply m-0 p-4 overflow-x-auto text-sm leading-relaxed;
  background-color: rgb(var(--su-card)) !important;
}

.code-block pre code {
  @apply bg-transparent p-0;
}

/* ============================================
   Syntax Highlighting (highlight.js)
   Uses CSS custom properties for theme switching
   ============================================ */

/* Base code block styles */
.hljs {
  background: rgb(var(--su-card)) !important;
  color: rgb(var(--hljs-base));
}

pre code.hljs {
  display: block;
  overflow-x: auto;
  padding: 1em;
}

code.hljs {
  padding: 3px 5px;
}

/* Comments */
.hljs-comment,
.hljs-quote {
  color: rgb(var(--hljs-comment));
  font-style: italic;
}

/* Keywords and selectors */
.hljs-keyword,
.hljs-selector-tag,
.hljs-meta {
  color: rgb(var(--hljs-keyword));
}

/* Strings and additions */
.hljs-string,
.hljs-addition,
.hljs-bullet,
.hljs-symbol {
  color: rgb(var(--hljs-string));
}

/* Numbers and literals */
.hljs-number,
.hljs-literal,
.hljs-params {
  color: rgb(var(--hljs-number));
}

/* Variables, tags, and deletions */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-deletion,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp {
  color: rgb(var(--hljs-variable));
}

/* Functions and titles */
.hljs-title,
.hljs-section,
.hljs-title.function_ {
  color: rgb(var(--hljs-title));
}

/* Types and built-ins */
.hljs-type,
.hljs-built_in,
.hljs-link {
  color: rgb(var(--hljs-type));
}

/* Attributes */
.hljs-attribute,
.hljs-meta .hljs-string {
  color: rgb(var(--hljs-attribute));
}

/* Emphasis */
.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: 700;
}

/* API Reference Tables */
.api-table {
  @apply w-full text-sm;
  border-collapse: collapse;
}

.api-table th {
  @apply text-left font-semibold text-su-foreground bg-su-muted/50 px-4 py-3 border-b border-su-border;
}

.api-table td {
  @apply px-4 py-3 border-b border-su-border text-su-muted-foreground;
}

.api-table tr:last-child td {
  @apply border-b-0;
}

.api-table td:first-child {
  @apply text-su-foreground font-medium;
}

.api-table code {
  @apply text-xs;
}

/* Keyboard key styles */
kbd {
  @apply inline-flex items-center justify-center px-2 py-0.5 text-xs font-medium bg-su-muted border border-su-border rounded text-su-foreground;
  box-shadow: 0 1px 0 rgb(var(--su-border));
}
