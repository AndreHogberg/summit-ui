@page "/docs/dependencies"
@layout DocsLayout
<PageTitle>SummitUI - Dependencies</PageTitle>

<div class="flex flex-col gap-12">
    @* Header *@
    <div class="flex flex-col gap-4">
        <div>
            <SuBadge Variant="SuBadgeVariant.Outline">Architecture</SuBadge>
        </div>
        <SuHeading Level="SuHeadingLevel.H1">JavaScript Dependencies</SuHeading>
        <SuText Lead="true" Muted="true">
            SummitUI uses a small set of JavaScript dependencies for functionality that cannot be achieved
            with pure C# or that would require significantly more code to implement correctly.
        </SuText>
    </div>

    @* Philosophy *@
    <SuSection Title="Our Approach">
        <SuText Muted="true">
            SummitUI follows a "C# first" philosophy. We prefer implementing logic in C# whenever possible,
            reserving JavaScript for tasks that are impossible in C# or require access to browser APIs not
            available through Blazor's standard interop. All JavaScript dependencies are bundled locally -
            we never use external CDNs.
        </SuText>
        <SuAlert>
            <div class="text-sm">
                <strong class="text-su-foreground">No CDN Dependencies:</strong> All JavaScript is bundled into a single
                <code class="text-xs bg-su-muted px-1 py-0.5 rounded">summitui.js</code> file and served from your application.
                This eliminates external network dependencies and ensures offline functionality.
            </div>
        </SuAlert>
    </SuSection>

    @* Dependencies Overview *@
    <SuSection Title="Dependencies" Description="Current JavaScript dependencies used by SummitUI:">
        <div class="flex flex-col gap-6">
            @* Floating UI *@
            <SuCard class="p-5">
                <div class="flex flex-col gap-4">
                    <div class="flex items-start justify-between">
                        <div>
                            <SuHeading Level="SuHeadingLevel.H3">@@floating-ui/dom</SuHeading>
                            <SuText Muted="true" Size="SuTextSize.Small" class="mt-1">v1.7.4</SuText>
                        </div>
                        <SuBadge Variant="SuBadgeVariant.Secondary" Size="SuSize.Small">~15 KB</SuBadge>
                    </div>
                    <SuText Muted="true">
                        Floating UI provides intelligent positioning for floating elements like popovers,
                        dropdowns, and tooltips. It handles complex positioning logic including:
                    </SuText>
                    <ul class="grid gap-2 text-sm text-su-muted-foreground">
                        <li class="flex items-start gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary mt-0.5 shrink-0"><path d="M20 6 9 17l-5-5"/></svg>
                            <span>Automatic flip when content would overflow viewport boundaries</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary mt-0.5 shrink-0"><path d="M20 6 9 17l-5-5"/></svg>
                            <span>Shift positioning to keep content visible within scroll containers</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary mt-0.5 shrink-0"><path d="M20 6 9 17l-5-5"/></svg>
                            <span>Arrow positioning that tracks the reference element</span>
                        </li>
                        <li class="flex items-start gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary mt-0.5 shrink-0"><path d="M20 6 9 17l-5-5"/></svg>
                            <span>Size constraints based on available space</span>
                        </li>
                    </ul>
                    <SuText Muted="true" Size="SuTextSize.Small">
                        <strong>Used by:</strong> Popover, Select, DropdownMenu, and any component with floating content.
                    </SuText>
                </div>
            </SuCard>
        </div>
    </SuSection>

    @* Build Tools *@
    <SuSection Title="Build Tools">
        <SuText Muted="true">
            In addition to runtime dependencies, SummitUI uses build-time tools for bundling:
        </SuText>

        <SuCard class="p-5 mt-4">
            <div class="flex flex-col gap-4">
                <div class="flex items-start justify-between">
                    <div>
                        <SuHeading Level="SuHeadingLevel.H3">esbuild</SuHeading>
                        <SuText Muted="true" Size="SuTextSize.Small" class="mt-1">v0.25.0 (dev dependency)</SuText>
                    </div>
                </div>
                <SuText Muted="true">
                    esbuild bundles and minifies all JavaScript modules into a single
                    <code class="text-xs bg-su-muted px-1 py-0.5 rounded">summitui.js</code> file. It's extremely fast
                    (~10ms build times) and produces highly optimized output with tree-shaking to eliminate unused code.
                </SuText>
            </div>
        </SuCard>
    </SuSection>

    @* Bundle Size *@
    <SuSection Title="Total Bundle Size">
        <SuText Muted="true">
            The complete bundled and minified <code class="text-xs bg-su-muted px-1 py-0.5 rounded">summitui.js</code>
            file is approximately <strong>38 KB</strong> uncompressed. With standard web server compression
            (gzip/brotli), this reduces to approximately <strong>10-12 KB</strong> over the wire.
        </SuText>

        <div class="mt-4 p-4 bg-su-muted/50 rounded-lg">
            <div class="flex flex-col gap-2 text-sm">
                <div class="flex justify-between">
                    <span class="text-su-muted-foreground">@@floating-ui/dom</span>
                    <span class="font-mono">~15 KB</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-su-muted-foreground">SummitUI internal JS (keyboard/focus)</span>
                    <span class="font-mono">~23 KB</span>
                </div>
                <SuDivider class="my-2" />
                <div class="flex justify-between font-medium">
                    <span>Total (minified)</span>
                    <span class="font-mono">~38 KB</span>
                </div>
                <div class="flex justify-between text-su-muted-foreground">
                    <span>Total (compressed)</span>
                    <span class="font-mono">~10-12 KB</span>
                </div>
            </div>
        </div>

        <SuText Muted="true" Size="SuTextSize.Small" class="mt-4">
            Calendar calculations and date formatting are handled entirely by .NET's
            <code class="text-xs bg-su-muted px-1 py-0.5 rounded">System.Globalization</code> namespace.
            JavaScript is only used for DOM operations that cannot be performed in C# (keyboard event
            interception, focus management).
        </SuText>
    </SuSection>
</div>
