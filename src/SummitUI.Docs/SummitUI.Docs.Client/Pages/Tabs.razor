@page "/docs/tabs"
@layout DocsLayout
@rendermode InteractiveWebAssembly
@using SummitUI.Docs.Design
<PageTitle>SummitUI - Tabs</PageTitle>

<div class="flex flex-col gap-12">
    @* Header *@
    <div class="flex flex-col gap-4">
        <div>
            <SuBadge Variant="SuBadgeVariant.Outline">Component</SuBadge>
        </div>
        <SuHeading Level="SuHeadingLevel.H1" class="flex flex-row items-center gap-4">
            Tabs
            <SuPromptButton ComponentName="Tabs" Url="/docs/tabs" />
        </SuHeading>
        <SuText Lead="true" Muted="true">
            A set of layered sections of content, known as tab panels, that are displayed one at a time.
        </SuText>
    </div>

    @* Live Demo *@
    <SuSection Title="Demo">
        <SuCard>
            <TabsRoot DefaultValue="account">
                <TabsList class="demo-tabs-list">
                    <TabsTrigger Value="account" class="demo-tabs-trigger">Account</TabsTrigger>
                    <TabsTrigger Value="password" class="demo-tabs-trigger">Password</TabsTrigger>
                    <TabsTrigger Value="notifications" class="demo-tabs-trigger">Notifications</TabsTrigger>
                </TabsList>
                <TabsContent Value="account" class="demo-tabs-content">
                    <h3 class="font-medium text-su-foreground mb-2">Account Settings</h3>
                    <p class="text-sm text-su-muted-foreground">Manage your account information and preferences here.</p>
                </TabsContent>
                <TabsContent Value="password" class="demo-tabs-content">
                    <h3 class="font-medium text-su-foreground mb-2">Password Settings</h3>
                    <p class="text-sm text-su-muted-foreground">Change your password and security options.</p>
                </TabsContent>
                <TabsContent Value="notifications" class="demo-tabs-content">
                    <h3 class="font-medium text-su-foreground mb-2">Notification Preferences</h3>
                    <p class="text-sm text-su-muted-foreground">Configure how you receive notifications.</p>
                </TabsContent>
            </TabsRoot>
        </SuCard>
    </SuSection>

    @* Features *@
    <SuSection Title="Features">
        <ul class="grid gap-2 text-sm text-su-muted-foreground">
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Full keyboard navigation
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Horizontal and vertical orientations
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Auto and manual activation modes
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Controlled and uncontrolled modes
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Disabled tabs support
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                WCAG compliant with proper ARIA attributes
            </li>
        </ul>
    </SuSection>

    @* Installation *@
    <SuSection Title="Installation">
        <SuCodeBlock Code="dotnet add package SummitUI" Language="bash" />
    </SuSection>

    @* Anatomy *@
    <SuSection Title="Anatomy" Description="Import the components and structure them as follows:">
        <SuCodeBlock Code="@anatomyCode" Language="razor" />
    </SuSection>

    @* Sub-components *@
    <SuSection Title="Sub-components">
        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            <SuCard>
                <SuCardTitle>TabsRoot</SuCardTitle>
                <SuCardDescription class="mt-1">Root container managing tabs state.</SuCardDescription>
            </SuCard>
            <SuCard>
                <SuCardTitle>TabsList</SuCardTitle>
                <SuCardDescription class="mt-1">Container for tab triggers (tablist role).</SuCardDescription>
            </SuCard>
            <SuCard>
                <SuCardTitle>TabsTrigger</SuCardTitle>
                <SuCardDescription class="mt-1">Individual tab button (tab role).</SuCardDescription>
            </SuCard>
            <SuCard>
                <SuCardTitle>TabsContent</SuCardTitle>
                <SuCardDescription class="mt-1">Tab content panel (tabpanel role).</SuCardDescription>
            </SuCard>
        </div>
    </SuSection>

    @* API Reference *@
    <SuSection Title="API Reference">
        <div class="flex flex-col gap-12">
            @foreach (var table in new[] { 
                (Title: "TabsRoot", Props: tabsRootProperties), 
                (Title: "TabsList", Props: tabsListProperties),
                (Title: "TabsTrigger", Props: tabsTriggerProperties),
                (Title: "TabsContent", Props: tabsContentProperties)
            })
            {
                <div class="flex flex-col gap-3">
                    <SuHeading Level="SuHeadingLevel.H3">@table.Title</SuHeading>
                    <SuTable>
                        <SuTableHeader>
                            <SuTableRow>
                                <SuTableHead>Property</SuTableHead>
                                <SuTableHead>Type</SuTableHead>
                                <SuTableHead>Default</SuTableHead>
                                <SuTableHead>Description</SuTableHead>
                            </SuTableRow>
                        </SuTableHeader>
                        <SuTableBody>
                            @foreach (var prop in table.Props)
                            {
                                <SuTableRow>
                                    <SuTableCell class="font-mono text-su-primary font-medium">
                                        @prop.Name
                                        @if (prop.Required)
                                        {
                                            <SuBadge Variant="SuBadgeVariant.Destructive" Size="SuSize.Small" class="ml-2">required</SuBadge>
                                        }
                                    </SuTableCell>
                                    <SuTableCell class="font-mono text-su-muted-foreground text-sm">@prop.Type</SuTableCell>
                                    <SuTableCell class="font-mono text-su-muted-foreground text-sm">@(prop.Default ?? "-")</SuTableCell>
                                    <SuTableCell class="text-su-muted-foreground">@(prop.Description ?? "-")</SuTableCell>
                                </SuTableRow>
                            }
                        </SuTableBody>
                    </SuTable>
                </div>
            }
        </div>
    </SuSection>

    @* Examples *@
    <SuSection Title="Examples">
        <div class="flex flex-col gap-8">
            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Basic Usage</SuHeading>
                <SuCodeBlock Code="@basicExampleCode" Language="razor" />
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Vertical Orientation</SuHeading>
                <SuText Size="SuTextSize.Small" Muted="true">Use vertical orientation for sidebar-style navigation.</SuText>
                <SuCodeBlock Code="@verticalExampleCode" Language="razor" />
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Controlled Mode</SuHeading>
                <SuText Size="SuTextSize.Small" Muted="true">Control the active tab externally.</SuText>
                <SuCodeBlock Code="@controlledExampleCode" Language="razor" />
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Disabled Tabs</SuHeading>
                <SuText Size="SuTextSize.Small" Muted="true">Disable specific tabs.</SuText>
                <SuCodeBlock Code="@disabledExampleCode" Language="razor" />
            </div>
        </div>
    </SuSection>

    @* Styling *@
    <SuSection Title="Styling">
        <div class="flex flex-col gap-12">
            <div class="flex flex-col gap-3">
                <SuHeading Level="SuHeadingLevel.H3">Data Attributes</SuHeading>
                <SuTable>
                    <SuTableHeader>
                        <SuTableRow>
                            <SuTableHead>Attribute</SuTableHead>
                            <SuTableHead>Values</SuTableHead>
                            <SuTableHead>Description</SuTableHead>
                        </SuTableRow>
                    </SuTableHeader>
                    <SuTableBody>
                        @foreach (var attr in dataAttributes)
                        {
                            <SuTableRow>
                                <SuTableCell class="font-mono text-su-primary font-medium">@attr.Name</SuTableCell>
                                <SuTableCell class="font-mono text-su-muted-foreground text-sm">@attr.Type</SuTableCell>
                                <SuTableCell class="text-su-muted-foreground">@attr.Description</SuTableCell>
                            </SuTableRow>
                        }
                    </SuTableBody>
                </SuTable>
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">CSS Example</SuHeading>
                <SuCodeBlock Code="@cssExampleCode" Language="css" />
            </div>
        </div>
    </SuSection>

    @* Accessibility *@
    <SuSection Title="Accessibility">
        <div class="flex flex-col gap-12">
            <div class="flex flex-col gap-3">
                <SuHeading Level="SuHeadingLevel.H3">Keyboard Navigation</SuHeading>
                <SuTable>
                    <SuTableHeader>
                        <SuTableRow>
                            <SuTableHead>Key</SuTableHead>
                            <SuTableHead>Action</SuTableHead>
                        </SuTableRow>
                    </SuTableHeader>
                    <SuTableBody>
                        @foreach (var nav in keyboardNavigation)
                        {
                            <SuTableRow>
                                <SuTableCell class="font-medium text-su-foreground">@nav.Name</SuTableCell>
                                <SuTableCell class="text-su-muted-foreground">@nav.Description</SuTableCell>
                            </SuTableRow>
                        }
                    </SuTableBody>
                </SuTable>
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">ARIA Attributes</SuHeading>
                <ul class="grid gap-2 text-sm text-su-muted-foreground">
                    <li class="flex items-start gap-2">
                        <span class="text-su-foreground font-medium shrink-0">TabsList:</span>
                        <span>Has <code>role="tablist"</code> with <code>aria-orientation</code></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-su-foreground font-medium shrink-0">TabsTrigger:</span>
                        <span>Has <code>role="tab"</code> with <code>aria-selected</code> and <code>aria-controls</code></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-su-foreground font-medium shrink-0">TabsContent:</span>
                        <span>Has <code>role="tabpanel"</code> with <code>aria-labelledby</code></span>
                    </li>
                </ul>
            </div>
        </div>
    </SuSection>
</div>

<style>
    /* Demo Tabs Styles */
    .demo-tabs-list {
        display: flex;
        border-bottom: 1px solid rgb(var(--su-border));
        gap: 0.25rem;
    }
    
    .demo-tabs-trigger {
        padding: 0.75rem 1rem;
        background: transparent;
        border: none;
        border-bottom: 2px solid transparent;
        cursor: pointer;
        font-weight: 500;
        font-size: 0.875rem;
        color: rgb(var(--su-muted-foreground));
        transition: all 0.15s;
    }
    
    .demo-tabs-trigger:hover {
        color: rgb(var(--su-foreground));
    }
    
    .demo-tabs-trigger[data-state="active"] {
        color: rgb(var(--su-primary));
        border-bottom-color: rgb(var(--su-primary));
    }
    
    .demo-tabs-trigger[data-disabled] {
        opacity: 0.5;
        cursor: not-allowed;
    }
    
    .demo-tabs-trigger:focus-visible {
        outline: 2px solid rgb(var(--su-ring));
        outline-offset: -2px;
    }
    
    .demo-tabs-content {
        padding: 1.5rem 0;
    }
    
    .demo-tabs-content[data-state="inactive"] {
        display: none;
    }
</style>

@code {
    private List<SuApiProperty> tabsRootProperties = new()
    {
        new() { Name = "Value", Type = "string?", Default = "null", Description = "Controlled active tab value" },
        new() { Name = "DefaultValue", Type = "string?", Default = "null", Description = "Default active tab (uncontrolled)" },
        new() { Name = "ValueChanged", Type = "EventCallback<string?>", Description = "Value change callback" },
        new() { Name = "OnValueChange", Type = "EventCallback<string?>", Description = "Tab activation callback" },
        new() { Name = "Orientation", Type = "TabsOrientation", Default = "Horizontal", Description = "Affects keyboard navigation" },
        new() { Name = "ActivationMode", Type = "TabsActivationMode", Default = "Auto", Description = "Auto (on focus) or Manual (on Enter/Space)" },
        new() { Name = "Loop", Type = "bool", Default = "true", Description = "Whether keyboard nav loops" }
    };

    private List<SuApiProperty> tabsListProperties = new()
    {
        new() { Name = "As", Type = "string", Default = "\"div\"", Description = "HTML element" }
    };

    private List<SuApiProperty> tabsTriggerProperties = new()
    {
        new() { Name = "Value", Type = "string", Required = true, Description = "Unique tab identifier" },
        new() { Name = "As", Type = "string", Default = "\"button\"", Description = "HTML element" },
        new() { Name = "Disabled", Type = "bool", Default = "false", Description = "Disable this tab" }
    };

    private List<SuApiProperty> tabsContentProperties = new()
    {
        new() { Name = "Value", Type = "string", Required = true, Description = "Matching TabsTrigger value" },
        new() { Name = "As", Type = "string", Default = "\"div\"", Description = "HTML element" }
    };

    private List<SuApiProperty> dataAttributes = new()
    {
        new() { Name = "data-state", Type = "\"active\" | \"inactive\"", Description = "Tab/panel activation state" },
        new() { Name = "data-disabled", Type = "Present when disabled", Description = "Tab is disabled" },
        new() { Name = "data-orientation", Type = "\"horizontal\" | \"vertical\"", Description = "Current orientation" }
    };

    private List<SuApiProperty> keyboardNavigation = new()
    {
        new() { Name = "ArrowRight / ArrowDown", Description = "Move focus to next tab", Type = "" },
        new() { Name = "ArrowLeft / ArrowUp", Description = "Move focus to previous tab", Type = "" },
        new() { Name = "Home", Description = "Move focus to first tab", Type = "" },
        new() { Name = "End", Description = "Move focus to last tab", Type = "" },
        new() { Name = "Enter / Space", Description = "Activate focused tab (manual mode)", Type = "" }
    };

    private const string anatomyCode = @"<TabsRoot DefaultValue=""tab1"">
    <TabsList>
        <TabsTrigger Value=""tab1"">Tab 1</TabsTrigger>
        <TabsTrigger Value=""tab2"">Tab 2</TabsTrigger>
    </TabsList>
    <TabsContent Value=""tab1"">Content 1</TabsContent>
    <TabsContent Value=""tab2"">Content 2</TabsContent>
</TabsRoot>";

    private const string basicExampleCode = @"<TabsRoot DefaultValue=""account"">
    <TabsList class=""tabs-list"">
        <TabsTrigger Value=""account"" class=""tabs-trigger"">Account</TabsTrigger>
        <TabsTrigger Value=""password"" class=""tabs-trigger"">Password</TabsTrigger>
    </TabsList>
    
    <TabsContent Value=""account"" class=""tabs-content"">
        <h3>Account Settings</h3>
        <p>Manage your account information here.</p>
    </TabsContent>
    <TabsContent Value=""password"" class=""tabs-content"">
        <h3>Password Settings</h3>
        <p>Change your password and security options.</p>
    </TabsContent>
</TabsRoot>";

    private const string verticalExampleCode = @"<TabsRoot DefaultValue=""general"" Orientation=""TabsOrientation.Vertical"">
    <div class=""tabs-container-vertical"">
        <TabsList class=""tabs-list-vertical"">
            <TabsTrigger Value=""general"">General</TabsTrigger>
            <TabsTrigger Value=""privacy"">Privacy</TabsTrigger>
            <TabsTrigger Value=""security"">Security</TabsTrigger>
        </TabsList>
        
        <div class=""tabs-content-container"">
            <TabsContent Value=""general"">General settings...</TabsContent>
            <TabsContent Value=""privacy"">Privacy settings...</TabsContent>
            <TabsContent Value=""security"">Security settings...</TabsContent>
        </div>
    </div>
</TabsRoot>";

    private const string controlledExampleCode = @"@code {
    private string activeTab = ""overview"";
}

<TabsRoot Value=""@activeTab"" ValueChanged=""@(v => activeTab = v)"">
    <TabsList>
        <TabsTrigger Value=""overview"">Overview</TabsTrigger>
        <TabsTrigger Value=""details"">Details</TabsTrigger>
    </TabsList>
    
    <TabsContent Value=""overview"">Overview content...</TabsContent>
    <TabsContent Value=""details"">Details content...</TabsContent>
</TabsRoot>

<p>Active tab: @activeTab</p>
<button @onclick=""@(() => activeTab = ""details"")"">Go to Details</button>";

    private const string disabledExampleCode = @"<TabsRoot DefaultValue=""active1"">
    <TabsList>
        <TabsTrigger Value=""active1"">Active Tab</TabsTrigger>
        <TabsTrigger Value=""disabled"" Disabled=""true"">Disabled Tab</TabsTrigger>
        <TabsTrigger Value=""active2"">Another Active</TabsTrigger>
    </TabsList>
    
    <TabsContent Value=""active1"">This tab is accessible.</TabsContent>
    <TabsContent Value=""disabled"">This content is not accessible.</TabsContent>
    <TabsContent Value=""active2"">This tab is also accessible.</TabsContent>
</TabsRoot>";

    private const string cssExampleCode = @"/* Tab list styles */
.tabs-list {
    display: flex;
    border-bottom: 1px solid #e0e0e0;
    gap: 4px;
}

/* Tab trigger styles */
.tabs-trigger {
    padding: 12px 24px;
    background: transparent;
    border: none;
    border-bottom: 2px solid transparent;
    cursor: pointer;
    font-weight: 500;
}

.tabs-trigger:hover {
    color: #333;
    background: #f5f5f5;
}

.tabs-trigger[data-state=""active""] {
    color: #0066cc;
    border-bottom-color: #0066cc;
}

.tabs-trigger[data-disabled] {
    opacity: 0.5;
    cursor: not-allowed;
}

/* Tab content styles */
.tabs-content {
    padding: 24px;
}

.tabs-content[data-state=""inactive""] {
    display: none;
}";
}
