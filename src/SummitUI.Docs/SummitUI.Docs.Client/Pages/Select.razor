@page "/docs/select"
@layout DocsLayout
@rendermode InteractiveWebAssembly
<PageTitle>SummitUI - Select</PageTitle>

<div class="flex flex-col gap-12">
    @* Header *@
    <div class="flex flex-col gap-4">
        <div>
            <SuBadge Variant="SuBadgeVariant.Outline">Component</SuBadge>
        </div>
        <SuHeading Level="SuHeadingLevel.H1" class="flex flex-row items-center gap-4">
            Select
            <SuPromptButton ComponentName="Select" />
        </SuHeading>
        <SuText Lead="true" Muted="true">
            A custom dropdown select component with full keyboard navigation and accessibility support. Supports strings, enums, and complex objects.
        </SuText>
    </div>

    @* Live Demo *@
    <SuSection Title="Demo">
        <SuCard>
            <div class="flex flex-col gap-4">
                <SelectRoot TValue="string" @bind-Value="selectedFruit">
                    <SelectTrigger TValue="string" class="demo-trigger">
                        <SelectValue TValue="string" Placeholder="Select a fruit..." />
                        <svg class="demo-chevron" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="m6 9 6 6 6-6"/>
                        </svg>
                    </SelectTrigger>
                    <SelectPortal TValue="string">
                        <SelectContent TValue="string" class="demo-content" SideOffset="4">
                            <SelectViewport TValue="string" class="demo-viewport">
                                <SelectItem TValue="string" Value="@("apple")" Label="Apple" class="demo-item">
                                    <span class="demo-item-check">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                                    </span>
                                    <SelectItemText>Apple</SelectItemText>
                                </SelectItem>
                                <SelectItem TValue="string" Value="@("banana")" Label="Banana" class="demo-item">
                                    <span class="demo-item-check">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                                    </span>
                                    <SelectItemText>Banana</SelectItemText>
                                </SelectItem>
                                <SelectItem TValue="string" Value="@("cherry")" Label="Cherry" class="demo-item">
                                    <span class="demo-item-check">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                                    </span>
                                    <SelectItemText>Cherry</SelectItemText>
                                </SelectItem>
                                <SelectItem TValue="string" Value="@("orange")" Label="Orange" class="demo-item">
                                    <span class="demo-item-check">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                                    </span>
                                    <SelectItemText>Orange</SelectItemText>
                                </SelectItem>
                                <SelectItem TValue="string" Value="@("grape")" Label="Grape" class="demo-item">
                                    <span class="demo-item-check">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                                    </span>
                                    <SelectItemText>Grape</SelectItemText>
                                </SelectItem>
                            </SelectViewport>
                        </SelectContent>
                    </SelectPortal>
                </SelectRoot>
                <SuText Size="SuTextSize.Small" Muted="true">Selected: @(selectedFruit ?? "None")</SuText>
            </div>
        </SuCard>
    </SuSection>

    @* Features *@
    <SuSection Title="Features">
        <ul class="grid gap-2 text-sm text-su-muted-foreground">
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Generic type support (string, enums, objects)
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Full keyboard navigation with typeahead
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Grouped items with labels
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Flexible positioning with collision detection
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                EditForm integration with validation
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                Controlled and uncontrolled modes
            </li>
            <li class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-su-primary"><path d="M20 6 9 17l-5-5"/></svg>
                WCAG compliant with proper ARIA attributes
            </li>
        </ul>
    </SuSection>

    @* Installation *@
    <SuSection Title="Installation">
        <SuCodeBlock Code="dotnet add package SummitUI" Language="bash" />
    </SuSection>

    @* Anatomy *@
    <SuSection Title="Anatomy" Description="Import the components and structure them as follows:">
        <SuCodeBlock Code="@anatomyCode" Language="razor" />
    </SuSection>

    @* Sub-components *@
    <SuSection Title="Sub-components">
        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            @foreach (var sub in subComponents)
            {
                <SuCard>
                    <SuCardTitle>@sub.Name</SuCardTitle>
                    <SuCardDescription class="mt-1">@sub.Description</SuCardDescription>
                </SuCard>
            }
        </div>
    </SuSection>

    @* API Reference *@
    <SuSection Title="API Reference">
        <div class="flex flex-col gap-12">
            @foreach (var table in new[] { 
                (Title: "SelectRoot<TValue>", Props: rootProps, Desc: "The root component that manages select state and provides cascading context."), 
                (Title: "SelectTrigger<TValue>", Props: triggerProps, Desc: "Button that opens the dropdown list."),
                (Title: "SelectValue<TValue>", Props: valueProps, Desc: "Displays the selected value or placeholder."),
                (Title: "SelectContent<TValue>", Props: contentProps, Desc: "Floating listbox panel with positioning options."),
                (Title: "SelectItem<TValue>", Props: itemProps, Desc: "Selectable option within the dropdown.")
            })
            {
                <div class="flex flex-col gap-3">
                    <SuHeading Level="SuHeadingLevel.H3">@table.Title</SuHeading>
                    <SuText Size="SuTextSize.Small" Muted="true">@table.Desc</SuText>
                    <SuTable>
                        <SuTableHeader>
                            <SuTableRow>
                                <SuTableHead>Property</SuTableHead>
                                <SuTableHead>Type</SuTableHead>
                                <SuTableHead>Default</SuTableHead>
                                <SuTableHead>Description</SuTableHead>
                            </SuTableRow>
                        </SuTableHeader>
                        <SuTableBody>
                            @foreach (var prop in table.Props)
                            {
                                <SuTableRow>
                                    <SuTableCell class="font-mono text-su-primary font-medium">
                                        @prop.Name
                                        @if (prop.Required)
                                        {
                                            <SuBadge Variant="SuBadgeVariant.Destructive" Size="SuSize.Small" class="ml-2">required</SuBadge>
                                        }
                                    </SuTableCell>
                                    <SuTableCell class="font-mono text-su-muted-foreground text-sm">@prop.Type</SuTableCell>
                                    <SuTableCell class="font-mono text-su-muted-foreground text-sm">@(prop.Default ?? "-")</SuTableCell>
                                    <SuTableCell class="text-su-muted-foreground">@(prop.Description ?? "-")</SuTableCell>
                                </SuTableRow>
                            }
                        </SuTableBody>
                    </SuTable>
                </div>
            }
        </div>
    </SuSection>

    @* Enums *@
    <SuSection Title="Enums">
        <div class="flex flex-col gap-8">
            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Side</SuHeading>
                <SuCodeBlock Code="@sideEnumCode" Language="csharp" />
            </div>
            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Align</SuHeading>
                <SuCodeBlock Code="@alignEnumCode" Language="csharp" />
            </div>
            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">EscapeKeyBehavior</SuHeading>
                <SuCodeBlock Code="@escapeEnumCode" Language="csharp" />
            </div>
            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">OutsideClickBehavior</SuHeading>
                <SuCodeBlock Code="@outsideClickEnumCode" Language="csharp" />
            </div>
        </div>
    </SuSection>

    @* Examples *@
    <SuSection Title="Examples">
        <div class="flex flex-col gap-8">
            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Basic String Select</SuHeading>
                <SuCodeBlock Code="@basicExampleCode" Language="razor" />
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">With Enum Values</SuHeading>
                <SuText Size="SuTextSize.Small" Muted="true">Use strongly-typed enum values.</SuText>
                <SuCodeBlock Code="@enumExampleCode" Language="razor" />
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">With Complex Objects</SuHeading>
                <SuText Size="SuTextSize.Small" Muted="true">Use custom objects as values.</SuText>
                <SuCodeBlock Code="@objectExampleCode" Language="razor" />
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Grouped Items</SuHeading>
                <SuText Size="SuTextSize.Small" Muted="true">Organize items into logical groups.</SuText>
                <SuCodeBlock Code="@groupedExampleCode" Language="razor" />
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">EditForm Integration</SuHeading>
                <SuText Size="SuTextSize.Small" Muted="true">Use with Blazor EditForm for validation.</SuText>
                <SuCodeBlock Code="@editFormExampleCode" Language="razor" />
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Disabled State</SuHeading>
                <SuText Size="SuTextSize.Small" Muted="true">Disable entire select or individual items.</SuText>
                <SuCodeBlock Code="@disabledExampleCode" Language="razor" />
            </div>
        </div>
    </SuSection>

    @* Styling *@
    <SuSection Title="Styling">
        <div class="flex flex-col gap-12">
            <div class="flex flex-col gap-3">
                <SuHeading Level="SuHeadingLevel.H3">Data Attributes</SuHeading>
                <SuTable>
                    <SuTableHeader>
                        <SuTableRow>
                            <SuTableHead>Attribute</SuTableHead>
                            <SuTableHead>Values</SuTableHead>
                            <SuTableHead>Description</SuTableHead>
                        </SuTableRow>
                    </SuTableHeader>
                    <SuTableBody>
                        <SuTableRow>
                            <SuTableCell class="font-mono text-su-primary font-medium">data-state</SuTableCell>
                            <SuTableCell class="font-mono text-su-muted-foreground text-sm">"open" | "closed"</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Dropdown open state (on trigger/content)</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-mono text-su-primary font-medium">data-state</SuTableCell>
                            <SuTableCell class="font-mono text-su-muted-foreground text-sm">"checked" | "unchecked"</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Item selection state</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-mono text-su-primary font-medium">data-highlighted</SuTableCell>
                            <SuTableCell class="font-mono text-su-muted-foreground text-sm">Present when focused</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Item is keyboard-focused</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-mono text-su-primary font-medium">data-disabled</SuTableCell>
                            <SuTableCell class="font-mono text-su-muted-foreground text-sm">Present when disabled</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Item or trigger is disabled</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-mono text-su-primary font-medium">data-placeholder</SuTableCell>
                            <SuTableCell class="font-mono text-su-muted-foreground text-sm">Present when no value</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Showing placeholder text</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-mono text-su-primary font-medium">data-invalid</SuTableCell>
                            <SuTableCell class="font-mono text-su-muted-foreground text-sm">Present when invalid</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">For form validation errors</SuTableCell>
                        </SuTableRow>
                    </SuTableBody>
                </SuTable>
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">CSS Example</SuHeading>
                <SuCodeBlock Code="@cssExampleCode" Language="css" />
            </div>
        </div>
    </SuSection>

    @* Accessibility *@
    <SuSection Title="Accessibility">
        <div class="flex flex-col gap-12">
            <div class="flex flex-col gap-3">
                <SuHeading Level="SuHeadingLevel.H3">Keyboard Navigation</SuHeading>
                <SuTable>
                    <SuTableHeader>
                        <SuTableRow>
                            <SuTableHead>Key</SuTableHead>
                            <SuTableHead>Action</SuTableHead>
                        </SuTableRow>
                    </SuTableHeader>
                    <SuTableBody>
                        <SuTableRow>
                            <SuTableCell class="font-medium text-su-foreground">Enter / Space</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Open dropdown or select highlighted item</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-medium text-su-foreground">ArrowDown</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Open dropdown or move to next item</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-medium text-su-foreground">ArrowUp</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Move to previous item</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-medium text-su-foreground">Home</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Move to first item</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-medium text-su-foreground">End</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Move to last item</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-medium text-su-foreground">Escape</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Close dropdown</SuTableCell>
                        </SuTableRow>
                        <SuTableRow>
                            <SuTableCell class="font-medium text-su-foreground">A-Z / a-z</SuTableCell>
                            <SuTableCell class="text-su-muted-foreground">Typeahead - jump to matching item</SuTableCell>
                        </SuTableRow>
                    </SuTableBody>
                </SuTable>
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">Typeahead</SuHeading>
                <SuText Size="SuTextSize.Small" Muted="true">
                    Typing characters while the dropdown is open will jump to items that match the typed text. The search buffer resets after a short delay.
                </SuText>
            </div>

            <div class="flex flex-col gap-4">
                <SuHeading Level="SuHeadingLevel.H3">ARIA Attributes</SuHeading>
                <ul class="grid gap-2 text-sm text-su-muted-foreground">
                    <li class="flex items-start gap-2">
                        <span class="text-su-foreground font-medium shrink-0">SelectTrigger:</span>
                        <span>Has <code>role="combobox"</code>, <code>aria-haspopup="listbox"</code>, and <code>aria-expanded</code></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-su-foreground font-medium shrink-0">SelectContent:</span>
                        <span>Has <code>role="listbox"</code></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-su-foreground font-medium shrink-0">SelectItem:</span>
                        <span>Has <code>role="option"</code> with <code>aria-selected</code></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-su-foreground font-medium shrink-0">SelectGroup:</span>
                        <span>Has <code>role="group"</code> with <code>aria-labelledby</code></span>
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="text-su-foreground font-medium shrink-0">Disabled items:</span>
                        <span>Have <code>aria-disabled</code></span>
                    </li>
                </ul>
            </div>
        </div>
    </SuSection>
</div>

<style>
    .demo-trigger {
        display: flex;
        align-items: center;
        justify-content: space-between;
        width: 200px;
        padding: 0.5rem 0.75rem;
        background: rgb(var(--su-card));
        border: 1px solid rgb(var(--su-border));
        border-radius: 0.5rem;
        cursor: pointer;
        color: rgb(var(--su-foreground));
        font-size: 0.875rem;
        transition: border-color 0.15s, box-shadow 0.15s;
    }
    
    .demo-trigger:hover {
        border-color: rgb(var(--su-muted-foreground) / 0.5);
    }
    
    .demo-trigger:focus {
        outline: none;
        border-color: rgb(var(--su-primary));
        box-shadow: 0 0 0 2px rgb(var(--su-primary) / 0.2);
    }
    
    .demo-trigger[data-state="open"] {
        border-color: rgb(var(--su-primary));
    }
    
    .demo-trigger[data-disabled] {
        opacity: 0.5;
        cursor: not-allowed;
    }
    
    .demo-trigger[data-placeholder] {
        color: rgb(var(--su-muted-foreground));
    }
    
    .demo-chevron {
        transition: transform 0.2s ease;
        color: rgb(var(--su-muted-foreground));
    }
    
    .demo-trigger[data-state="open"] .demo-chevron {
        transform: rotate(180deg);
    }
    
    .demo-content {
        background: rgb(var(--su-card));
        border: 1px solid rgb(var(--su-border));
        border-radius: 0.5rem;
        box-shadow: 0 4px 12px rgb(var(--su-foreground) / 0.1);
        overflow: hidden;
        min-width: 200px;
    }
    
    .demo-viewport {
        padding: 0.25rem;
        max-height: 300px;
        overflow-y: auto;
    }
    
    .demo-item {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        padding: 0.5rem 0.75rem;
        border-radius: 0.25rem;
        cursor: pointer;
        font-size: 0.875rem;
        color: rgb(var(--su-foreground));
        transition: background-color 0.1s;
    }
    
    .demo-item:hover,
    .demo-item[data-highlighted] {
        background: rgb(var(--su-accent));
        color: rgb(var(--su-accent-foreground));
    }
    
    .demo-item[data-state="checked"] {
        background: rgb(var(--su-primary) / 0.1);
    }
    
    .demo-item[data-disabled] {
        opacity: 0.5;
        cursor: not-allowed;
    }
    
    .demo-item-check {
        visibility: hidden;
        color: rgb(var(--su-primary));
        display: flex;
        align-items: center;
    }
    
    .demo-item[data-state="checked"] .demo-item-check {
        visibility: visible;
    }
</style>

@code {
    private string? selectedFruit;

    private record SubComponent(string Name, string Description);

    private readonly List<SubComponent> subComponents = new()
    {
        new("SelectRoot<TValue>", "Generic root container managing select state."),
        new("SelectTrigger<TValue>", "Button that opens the dropdown (combobox role)."),
        new("SelectValue<TValue>", "Displays selected value or placeholder text."),
        new("SelectPortal<TValue>", "Renders content in fixed-position container."),
        new("SelectContent<TValue>", "Floating listbox panel with positioning."),
        new("SelectViewport<TValue>", "Scrollable container for items."),
        new("SelectItem<TValue>", "Selectable option with option role."),
        new("SelectItemText", "Text content wrapper for items."),
        new("SelectGroup<TValue>", "Groups related items together."),
        new("SelectGroupLabel", "Label for a group of items.")
    };

    private readonly List<SuApiProperty> rootProps = new()
    {
        new() { Name = "Value", Type = "TValue?", Default = "null", Description = "Controlled selected value" },
        new() { Name = "DefaultValue", Type = "TValue?", Default = "null", Description = "Default value (uncontrolled)" },
        new() { Name = "ValueChanged", Type = "EventCallback<TValue?>", Description = "Value change callback" },
        new() { Name = "ValueExpression", Type = "Expression<Func<TValue?>>?", Default = "null", Description = "For EditForm validation" },
        new() { Name = "OnValueChange", Type = "EventCallback<TValue?>", Description = "Alternative value change callback" },
        new() { Name = "Open", Type = "bool?", Default = "null", Description = "Controlled open state" },
        new() { Name = "DefaultOpen", Type = "bool", Default = "false", Description = "Default open state" },
        new() { Name = "OpenChanged", Type = "EventCallback<bool>", Description = "Open state change callback" },
        new() { Name = "Disabled", Type = "bool", Default = "false", Description = "Disable entire select" },
        new() { Name = "Required", Type = "bool", Default = "false", Description = "For form validation" },
        new() { Name = "Invalid", Type = "bool", Default = "false", Description = "For error styling" },
        new() { Name = "Name", Type = "string?", Default = "null", Description = "Form field name for hidden input" }
    };

    private readonly List<SuApiProperty> triggerProps = new()
    {
        new() { Name = "As", Type = "string", Default = "\"button\"", Description = "HTML element to render" },
        new() { Name = "AriaLabel", Type = "string?", Default = "null", Description = "Direct aria-label" },
        new() { Name = "AriaLabelledBy", Type = "string?", Default = "null", Description = "ID of external label" }
    };

    private readonly List<SuApiProperty> valueProps = new()
    {
        new() { Name = "Placeholder", Type = "string?", Default = "null", Description = "Placeholder when no value selected" },
        new() { Name = "ChildContent", Type = "RenderFragment?", Default = "null", Description = "Custom content" }
    };

    private readonly List<SuApiProperty> contentProps = new()
    {
        new() { Name = "As", Type = "string", Default = "\"div\"", Description = "HTML element to render" },
        new() { Name = "Side", Type = "Side", Default = "Bottom", Description = "Placement side" },
        new() { Name = "SideOffset", Type = "int", Default = "4", Description = "Offset from trigger (px)" },
        new() { Name = "Align", Type = "Align", Default = "Start", Description = "Alignment along side axis" },
        new() { Name = "AlignOffset", Type = "int", Default = "0", Description = "Alignment offset (px)" },
        new() { Name = "AvoidCollisions", Type = "bool", Default = "true", Description = "Avoid viewport boundaries" },
        new() { Name = "CollisionPadding", Type = "int", Default = "8", Description = "Viewport padding (px)" },
        new() { Name = "EscapeKeyBehavior", Type = "EscapeKeyBehavior", Default = "Close", Description = "Escape key behavior" },
        new() { Name = "OutsideClickBehavior", Type = "OutsideClickBehavior", Default = "Close", Description = "Outside click behavior" },
        new() { Name = "OnInteractOutside", Type = "EventCallback", Description = "Outside click callback" },
        new() { Name = "OnEscapeKeyDown", Type = "EventCallback", Description = "Escape key callback" }
    };

    private readonly List<SuApiProperty> itemProps = new()
    {
        new() { Name = "Value", Type = "TValue", Description = "Value of this item", Required = true },
        new() { Name = "Key", Type = "string?", Default = "null", Description = "Optional string key for JS interop" },
        new() { Name = "Label", Type = "string?", Default = "null", Description = "Label for typeahead and display" },
        new() { Name = "Disabled", Type = "bool", Default = "false", Description = "Disable item" },
        new() { Name = "OnSelect", Type = "EventCallback", Description = "Selection callback" }
    };

    private const string anatomyCode = @"<SelectRoot TValue=""string"">
    <SelectTrigger TValue=""string"">
        <SelectValue TValue=""string"" Placeholder=""Select an option..."" />
    </SelectTrigger>
    <SelectPortal TValue=""string"">
        <SelectContent TValue=""string"">
            <SelectViewport TValue=""string"">
                <SelectItem TValue=""string"" Value=""@(""option-1"")"">
                    <SelectItemText>Option 1</SelectItemText>
                </SelectItem>
            </SelectViewport>
        </SelectContent>
    </SelectPortal>
</SelectRoot>";

    private const string sideEnumCode = @"public enum Side
{
    Top,
    Right,
    Bottom,
    Left
}";

    private const string alignEnumCode = @"public enum Align
{
    Start,
    Center,
    End
}";

    private const string escapeEnumCode = @"public enum EscapeKeyBehavior
{
    Close,
    Ignore
}";

    private const string outsideClickEnumCode = @"public enum OutsideClickBehavior
{
    Close,
    Ignore
}";

    private const string basicExampleCode = @"@code {
    private string? selectedFruit;
}

<SelectRoot TValue=""string"" @bind-Value=""selectedFruit"">
    <SelectTrigger TValue=""string"" class=""select-trigger"">
        <SelectValue TValue=""string"" Placeholder=""Select a fruit..."" />
        <span class=""select-icon"">â–¼</span>
    </SelectTrigger>
    <SelectPortal TValue=""string"">
        <SelectContent TValue=""string"" class=""select-content"" SideOffset=""4"">
            <SelectViewport TValue=""string"" class=""select-viewport"">
                <SelectItem TValue=""string"" Value=""@(""apple"")"" Label=""Apple"">
                    <SelectItemText>Apple</SelectItemText>
                </SelectItem>
                <SelectItem TValue=""string"" Value=""@(""banana"")"" Label=""Banana"">
                    <SelectItemText>Banana</SelectItemText>
                </SelectItem>
                <SelectItem TValue=""string"" Value=""@(""cherry"")"" Label=""Cherry"">
                    <SelectItemText>Cherry</SelectItemText>
                </SelectItem>
            </SelectViewport>
        </SelectContent>
    </SelectPortal>
</SelectRoot>

<p>Selected: @(selectedFruit ?? ""None"")</p>";

    private const string enumExampleCode = @"@code {
    public enum Priority { Low, Medium, High, Critical }
    private Priority selectedPriority = Priority.Medium;
}

<SelectRoot TValue=""Priority"" @bind-Value=""selectedPriority"">
    <SelectTrigger TValue=""Priority"" class=""select-trigger"">
        <SelectValue TValue=""Priority"" Placeholder=""Select priority..."" />
    </SelectTrigger>
    <SelectPortal TValue=""Priority"">
        <SelectContent TValue=""Priority"" class=""select-content"">
            <SelectViewport TValue=""Priority"">
                <SelectItem TValue=""Priority"" Value=""Priority.Low"" Label=""Low"">
                    <SelectItemText>Low Priority</SelectItemText>
                </SelectItem>
                <SelectItem TValue=""Priority"" Value=""Priority.Medium"" Label=""Medium"">
                    <SelectItemText>Medium Priority</SelectItemText>
                </SelectItem>
                <SelectItem TValue=""Priority"" Value=""Priority.High"" Label=""High"">
                    <SelectItemText>High Priority</SelectItemText>
                </SelectItem>
                <SelectItem TValue=""Priority"" Value=""Priority.Critical"" Label=""Critical"">
                    <SelectItemText>Critical Priority</SelectItemText>
                </SelectItem>
            </SelectViewport>
        </SelectContent>
    </SelectPortal>
</SelectRoot>";

    private const string objectExampleCode = @"@code {
    public record Country(string Code, string Name);
    
    private List<Country> countries = new()
    {
        new(""US"", ""United States""),
        new(""UK"", ""United Kingdom""),
        new(""CA"", ""Canada""),
        new(""AU"", ""Australia"")
    };
    
    private Country? selectedCountry;
}

<SelectRoot TValue=""Country"" @bind-Value=""selectedCountry"">
    <SelectTrigger TValue=""Country"" class=""select-trigger"">
        <SelectValue TValue=""Country"" Placeholder=""Select a country..."" />
    </SelectTrigger>
    <SelectPortal TValue=""Country"">
        <SelectContent TValue=""Country"" class=""select-content"">
            <SelectViewport TValue=""Country"">
                @foreach (var country in countries)
                {
                    <SelectItem TValue=""Country"" 
                                Value=""country"" 
                                Key=""@country.Code"" 
                                Label=""@country.Name"">
                        <SelectItemText>@country.Name (@country.Code)</SelectItemText>
                    </SelectItem>
                }
            </SelectViewport>
        </SelectContent>
    </SelectPortal>
</SelectRoot>";

    private const string groupedExampleCode = @"<SelectRoot TValue=""string"" @bind-Value=""selectedFood"">
    <SelectTrigger TValue=""string"" class=""select-trigger"">
        <SelectValue TValue=""string"" Placeholder=""Select food..."" />
    </SelectTrigger>
    <SelectPortal TValue=""string"">
        <SelectContent TValue=""string"" class=""select-content"">
            <SelectViewport TValue=""string"">
                <SelectGroup TValue=""string"">
                    <SelectGroupLabel class=""select-group-label"">Fruits</SelectGroupLabel>
                    <SelectItem TValue=""string"" Value=""@(""apple"")"" Label=""Apple"">
                        <SelectItemText>Apple</SelectItemText>
                    </SelectItem>
                    <SelectItem TValue=""string"" Value=""@(""banana"")"" Label=""Banana"">
                        <SelectItemText>Banana</SelectItemText>
                    </SelectItem>
                </SelectGroup>
                <SelectGroup TValue=""string"">
                    <SelectGroupLabel class=""select-group-label"">Vegetables</SelectGroupLabel>
                    <SelectItem TValue=""string"" Value=""@(""carrot"")"" Label=""Carrot"">
                        <SelectItemText>Carrot</SelectItemText>
                    </SelectItem>
                    <SelectItem TValue=""string"" Value=""@(""broccoli"")"" Label=""Broccoli"">
                        <SelectItemText>Broccoli</SelectItemText>
                    </SelectItem>
                </SelectGroup>
            </SelectViewport>
        </SelectContent>
    </SelectPortal>
</SelectRoot>";

    private const string editFormExampleCode = @"@code {
    public class FormModel
    {
        [Required(ErrorMessage = ""Category is required"")]
        public string? Category { get; set; }
    }
    
    private FormModel formModel = new();
    private EditContext? editContext;
    
    protected override void OnInitialized()
    {
        editContext = new EditContext(formModel);
    }
    
    private void HandleSubmit()
    {
        if (editContext!.Validate())
        {
            // Process form
        }
    }
}

<EditForm EditContext=""editContext"" OnSubmit=""HandleSubmit"">
    <DataAnnotationsValidator />
    
    <div class=""form-field"">
        <label for=""category"">Category</label>
        <SelectRoot TValue=""string"" 
                    @bind-Value=""formModel.Category"" 
                    Name=""category"" 
                    Required=""true"">
            <SelectTrigger TValue=""string"" class=""select-trigger"" id=""category"">
                <SelectValue TValue=""string"" Placeholder=""Select category..."" />
            </SelectTrigger>
            <SelectPortal TValue=""string"">
                <SelectContent TValue=""string"" class=""select-content"">
                    <SelectViewport TValue=""string"">
                        <SelectItem TValue=""string"" Value=""@(""electronics"")"" Label=""Electronics"">
                            <SelectItemText>Electronics</SelectItemText>
                        </SelectItem>
                        <SelectItem TValue=""string"" Value=""@(""clothing"")"" Label=""Clothing"">
                            <SelectItemText>Clothing</SelectItemText>
                        </SelectItem>
                        <SelectItem TValue=""string"" Value=""@(""books"")"" Label=""Books"">
                            <SelectItemText>Books</SelectItemText>
                        </SelectItem>
                    </SelectViewport>
                </SelectContent>
            </SelectPortal>
        </SelectRoot>
        <ValidationMessage For=""@(() => formModel.Category)"" />
    </div>
    
    <button type=""submit"">Submit</button>
</EditForm>";

    private const string disabledExampleCode = @"@* Disabled entire select *@
<SelectRoot TValue=""string"" Disabled=""true"">
    <SelectTrigger TValue=""string"" class=""select-trigger"">
        <SelectValue TValue=""string"" Placeholder=""Disabled..."" />
    </SelectTrigger>
    ...
</SelectRoot>

@* Disabled individual items *@
<SelectRoot TValue=""string"" @bind-Value=""selectedValue"">
    <SelectTrigger TValue=""string"" class=""select-trigger"">
        <SelectValue TValue=""string"" Placeholder=""Select..."" />
    </SelectTrigger>
    <SelectPortal TValue=""string"">
        <SelectContent TValue=""string"" class=""select-content"">
            <SelectViewport TValue=""string"">
                <SelectItem TValue=""string"" Value=""@(""option1"")"" Label=""Option 1"">
                    <SelectItemText>Option 1</SelectItemText>
                </SelectItem>
                <SelectItem TValue=""string"" Value=""@(""option2"")"" Label=""Option 2"" Disabled=""true"">
                    <SelectItemText>Option 2 (Disabled)</SelectItemText>
                </SelectItem>
                <SelectItem TValue=""string"" Value=""@(""option3"")"" Label=""Option 3"">
                    <SelectItemText>Option 3</SelectItemText>
                </SelectItem>
            </SelectViewport>
        </SelectContent>
    </SelectPortal>
</SelectRoot>";

    private const string cssExampleCode = @".select-trigger {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 200px;
    padding: 8px 12px;
    background: white;
    border: 1px solid #ccc;
    border-radius: 6px;
    cursor: pointer;
}

.select-trigger[data-state=""open""] {
    border-color: #0066cc;
    box-shadow: 0 0 0 2px rgba(0, 102, 204, 0.2);
}

.select-trigger[data-disabled] {
    opacity: 0.5;
    cursor: not-allowed;
}

.select-trigger[data-placeholder] {
    color: #999;
}

.select-content {
    background: white;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    overflow: hidden;
}

.select-viewport {
    padding: 4px;
    max-height: 300px;
    overflow-y: auto;
}

.select-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    border-radius: 4px;
    cursor: pointer;
}

.select-item[data-highlighted] {
    background: rgb(var(--su-accent));
    color: rgb(var(--su-accent-foreground));
}

.select-item[data-state=""checked""] {
    background: #e6f0ff;
}

.select-item[data-disabled] {
    opacity: 0.5;
    cursor: not-allowed;
}

.select-group-label {
    padding: 8px 12px;
    font-size: 12px;
    font-weight: 600;
    color: #666;
    text-transform: uppercase;
}";
}
