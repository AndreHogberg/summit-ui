@page "/tests/checkbox/basic"
@rendermode InteractiveWebAssembly

@if (!RendererInfo.IsInteractive)
{
    <div data-testid="page-loading">Loading...</div>
}
else
{
<div data-testid="page-ready">
    <h1>Checkbox Basic Tests</h1>

    <div style="display: flex; flex-direction: column; gap: 1rem;">
        <!-- Unchecked checkbox -->
        <label class="checkbox-label">
            <SmCheckboxRoot DefaultChecked="false" class="checkbox-root" data-testid="checkbox-unchecked">
                <SmCheckboxIndicator>
                    <span>✓</span>
                </SmCheckboxIndicator>
            </SmCheckboxRoot>
            Unchecked checkbox
        </label>

        <!-- Checked checkbox -->
        <label class="checkbox-label">
            <SmCheckboxRoot DefaultChecked="true" class="checkbox-root" data-testid="checkbox-checked">
                <SmCheckboxIndicator>
                    <span>✓</span>
                </SmCheckboxIndicator>
            </SmCheckboxRoot>
            Checked checkbox
        </label>

        <!-- Another checkbox for unique ID testing -->
        <label class="checkbox-label">
            <SmCheckboxRoot DefaultChecked="false" class="checkbox-root" data-testid="checkbox-third">
                <SmCheckboxIndicator>
                    <span>✓</span>
                </SmCheckboxIndicator>
            </SmCheckboxRoot>
            Third checkbox
        </label>

        <!-- Custom styled checkboxes for indicator tests -->
        <label class="checkbox-label">
            <SmCheckboxRoot DefaultChecked="false" class="checkbox-root" data-testid="custom-unchecked">
                <SmCheckboxIndicator>
                    <span>✓</span>
                </SmCheckboxIndicator>
            </SmCheckboxRoot>
            Custom unchecked
        </label>

        <label class="checkbox-label">
            <SmCheckboxRoot DefaultChecked="true" class="checkbox-root" data-testid="custom-checked">
                <SmCheckboxIndicator>
                    <span>✓</span>
                </SmCheckboxIndicator>
            </SmCheckboxRoot>
            Custom checked
        </label>
    </div>

    <!-- Controlled checkbox section -->
    <div style="margin-top: 2rem;">
        <h2>Controlled Checkbox</h2>
        <button class="btn" @onclick="() => isControlledChecked = !isControlledChecked" data-testid="toggle-button">
            Toggle Externally (@(isControlledChecked ? "Checked" : "Unchecked"))
        </button>

        <label class="checkbox-label" style="margin-top: 0.5rem;">
            <SmCheckboxRoot Checked="@isControlledChecked" CheckedChanged="@(v => isControlledChecked = v)" class="checkbox-root" data-testid="controlled-checkbox">
                <SmCheckboxIndicator>
                    <span>✓</span>
                </SmCheckboxIndicator>
            </SmCheckboxRoot>
            Controlled checkbox
        </label>
    </div>
</div>
}

@code {
    private bool isControlledChecked = false;
}

<style>
    .checkbox-label {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        cursor: pointer;
    }

    .checkbox-root {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        border: 2px solid #666;
        border-radius: 4px;
        background: white;
        cursor: pointer;
        font-size: 14px;
        padding: 0;
    }

    .checkbox-root[data-state="checked"] {
        background: #4f46e5;
        border-color: #4f46e5;
        color: white;
    }

    .btn {
        padding: 0.5rem 1rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        cursor: pointer;
        background: #f5f5f5;
    }
</style>
