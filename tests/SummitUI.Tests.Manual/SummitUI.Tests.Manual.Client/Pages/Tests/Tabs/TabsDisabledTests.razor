@page "/tests/tabs/disabled"
@rendermode InteractiveWebAssembly

@if (!RendererInfo.IsInteractive)
{
    <div data-testid="page-loading">Loading...</div>
}
else
{
<div data-testid="page-ready">
    <h1>Tabs Disabled Tests</h1>
    
    <!-- Tabs with disabled items -->
    <div class="test-section" data-testid="disabled-section">
        <h2>Tabs with Disabled Tab</h2>
        <SmTabsRoot DefaultValue="account">
            <SmTabsList class="tabs-list" data-testid="disabled-tabs-list">
                <SmTabsTrigger Value="account" class="tabs-trigger" data-testid="trigger-account">Account</SmTabsTrigger>
                <SmTabsTrigger Value="password" class="tabs-trigger" data-testid="trigger-password">Password</SmTabsTrigger>
                <SmTabsTrigger Value="settings" Disabled="true" class="tabs-trigger" data-testid="trigger-settings">Settings (Disabled)</SmTabsTrigger>
            </SmTabsList>
            <SmTabsContent Value="account" class="tabs-content" data-testid="content-account">
                Account settings content
            </SmTabsContent>
            <SmTabsContent Value="password" class="tabs-content" data-testid="content-password">
                Password settings content
            </SmTabsContent>
            <SmTabsContent Value="settings" class="tabs-content" data-testid="content-settings">
                Settings content (should not be visible)
            </SmTabsContent>
        </SmTabsRoot>
    </div>
    
    <!-- Multiple disabled tabs -->
    <div class="test-section" data-testid="multiple-disabled-section">
        <h2>Multiple Disabled Tabs</h2>
        <SmTabsRoot DefaultValue="tab2">
            <SmTabsList class="tabs-list" data-testid="multiple-disabled-tabs-list">
                <SmTabsTrigger Value="tab1" Disabled="true" class="tabs-trigger" data-testid="multi-trigger-1">Tab 1 (Disabled)</SmTabsTrigger>
                <SmTabsTrigger Value="tab2" class="tabs-trigger" data-testid="multi-trigger-2">Tab 2</SmTabsTrigger>
                <SmTabsTrigger Value="tab3" Disabled="true" class="tabs-trigger" data-testid="multi-trigger-3">Tab 3 (Disabled)</SmTabsTrigger>
                <SmTabsTrigger Value="tab4" class="tabs-trigger" data-testid="multi-trigger-4">Tab 4</SmTabsTrigger>
                <SmTabsTrigger Value="tab5" Disabled="true" class="tabs-trigger" data-testid="multi-trigger-5">Tab 5 (Disabled)</SmTabsTrigger>
            </SmTabsList>
            <SmTabsContent Value="tab1" class="tabs-content">Tab 1 content</SmTabsContent>
            <SmTabsContent Value="tab2" class="tabs-content" data-testid="multi-content-2">Tab 2 content</SmTabsContent>
            <SmTabsContent Value="tab3" class="tabs-content">Tab 3 content</SmTabsContent>
            <SmTabsContent Value="tab4" class="tabs-content" data-testid="multi-content-4">Tab 4 content</SmTabsContent>
            <SmTabsContent Value="tab5" class="tabs-content">Tab 5 content</SmTabsContent>
        </SmTabsRoot>
    </div>
    
    <!-- Dynamic disabled state -->
    <div class="test-section" data-testid="dynamic-disabled-section">
        <h2>Dynamic Disabled State</h2>
        <SmTabsRoot DefaultValue="first">
            <SmTabsList class="tabs-list">
                <SmTabsTrigger Value="first" class="tabs-trigger" data-testid="dynamic-trigger-first">First</SmTabsTrigger>
                <SmTabsTrigger Value="second" Disabled="_secondDisabled" class="tabs-trigger" data-testid="dynamic-trigger-second">Second</SmTabsTrigger>
                <SmTabsTrigger Value="third" class="tabs-trigger" data-testid="dynamic-trigger-third">Third</SmTabsTrigger>
            </SmTabsList>
            <SmTabsContent Value="first" class="tabs-content">First content</SmTabsContent>
            <SmTabsContent Value="second" class="tabs-content">Second content</SmTabsContent>
            <SmTabsContent Value="third" class="tabs-content">Third content</SmTabsContent>
        </SmTabsRoot>
        <div class="mt-3">
            <button type="button" class="btn btn-secondary" @onclick="ToggleSecondDisabled" data-testid="toggle-disabled-btn">
                @(_secondDisabled ? "Enable" : "Disable") Second Tab
            </button>
        </div>
    </div>
</div>
}

<style>
    .tabs-list {
        display: flex;
        gap: 4px;
        border-bottom: 1px solid #e0e0e0;
        margin-bottom: 1rem;
    }
    
    .tabs-trigger {
        padding: 8px 16px;
        cursor: pointer;
        border: none;
        background: transparent;
        border-bottom: 2px solid transparent;
        transition: border-color 0.2s;
    }
    
    .tabs-trigger:hover:not([data-disabled]) {
        background-color: #f5f5f5;
    }
    
    .tabs-trigger:focus-visible {
        outline: 2px solid #000;
        outline-offset: 2px;
    }
    
    .tabs-trigger[data-state='active'] {
        border-bottom-color: #000;
        font-weight: 600;
    }
    
    .tabs-trigger[data-disabled] {
        opacity: 0.5;
        cursor: not-allowed;
    }
    
    .tabs-content {
        padding: 1rem;
        border: 1px solid #e0e0e0;
        border-top: none;
        border-radius: 0 0 4px 4px;
    }
    
    .test-section {
        margin-bottom: 2rem;
        padding: 1rem;
        border: 1px solid #e0e0e0;
        border-radius: 4px;
    }
</style>

@code {
    private bool _secondDisabled = true;

    private void ToggleSecondDisabled()
    {
        _secondDisabled = !_secondDisabled;
    }
}
