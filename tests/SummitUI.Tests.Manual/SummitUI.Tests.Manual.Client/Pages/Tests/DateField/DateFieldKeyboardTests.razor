@page "/tests/date-field/keyboard"
@rendermode InteractiveWebAssembly

@if (!RendererInfo.IsInteractive)
{
    <div data-testid="page-loading">Loading...</div>
}
else
{
<div data-testid="page-ready">
    <h1>DateField Keyboard Tests</h1>
    
    <div class="test-section" data-testid="keyboard-section">
        <label id="label-keyboard">Keyboard Navigation</label>
        <SmDateFieldRoot @bind-Value="_date" Format="yyyy-MM-dd" aria-labelledby="label-keyboard">
            <SmDateFieldInput class="datefield-input" data-testid="keyboard-input" />
        </SmDateFieldRoot>
        <p data-testid="keyboard-value">Value: @(_date?.ToString("yyyy-MM-dd") ?? "None")</p>
    </div>

    <div class="test-section" data-testid="minmax-section">
        <label>Min/Max Validation</label>
        <SmDateFieldRoot @bind-Value="_minMaxDate" 
                       Format="yyyy-MM-dd" 
                       MinValue="@(new DateOnly(2025, 1, 1))" 
                       MaxValue="@(new DateOnly(2025, 12, 31))">
            <SmDateFieldInput class="datefield-input" />
        </SmDateFieldRoot>
        @if (_minMaxDate < new DateOnly(2025, 1, 1) || _minMaxDate > new DateOnly(2025, 12, 31))
        {
            <p data-testid="minmax-error" style="color: red;">Out of range</p>
        }
    </div>
</div>
}

<style>
    .datefield-input { display: inline-flex; padding: 4px 8px; border: 1px solid #ccc; background: white; }
    .datefield-input:focus-within { border-color: #0078d4; }
</style>

@code {
    private DateOnly? _date = new DateOnly(2025, 6, 15);
    private DateOnly? _minMaxDate = new DateOnly(2025, 6, 15);
}
